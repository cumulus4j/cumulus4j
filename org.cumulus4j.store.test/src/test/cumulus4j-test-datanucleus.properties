## This 'cumulus4j-test-datanucleus.properties' file should *NOT* be modified to fit
## developer-specific needs!
##
## You can instead place a file named 'cumulus4j-test-datanucleus.properties' into your home
## directory and put those properties into it that you wish to override.
##
## The file located in your home directory will be merged into the configuration and override
## all settings made in this file here.
##
## To remove a property, set it to the special value "_NULL_" (simply leaving it empty will
## override the property's value with an empty string instead of removing it from the map).
##
## See: org.cumulus4j.store.test.framework.TestUtil#loadProperties(...)
##
## Marco :-)

# Not necessary if only DataNucleus in the CLASSPATH
javax.jdo.PersistenceManagerFactoryClass= org.datanucleus.api.jdo.JDOPersistenceManagerFactory

# MySQL
#javax.jdo.option.ConnectionDriverName=com.mysql.jdbc.Driver
#javax.jdo.option.ConnectionURL=jdbc:mysql://127.0.0.1/nucleus?useServerPrepStmts=false
#javax.jdo.option.ConnectionURL=jdbc:mysql://127.0.0.1/cumulus4j?useLegacyDatetimeCode=false&serverTimezone=UTC
#javax.jdo.option.ConnectionURL=jdbc:mysql://127.0.0.1/cumulus4j

# Derby
javax.jdo.option.ConnectionDriverName=org.apache.derby.jdbc.EmbeddedDriver
javax.jdo.option.ConnectionURL=jdbc:derby:${java.io.tmpdir}/derby/cumulus4j;create=true

javax.jdo.option.ConnectionUserName=root
javax.jdo.option.ConnectionPassword=

javax.jdo.option.ServerTimeZoneID=UTC

datanucleus.autoCreateSchema=true
datanucleus.autoCreateTables=true
datanucleus.autoCreateColumns=true
datanucleus.autoCreateConstraints=true
datanucleus.validateTables=true
datanucleus.validateColumns=true
datanucleus.validateConstraints=true

datanucleus.NontransactionalRead=true
datanucleus.persistenceByReachabilityAtCommit=false
datanucleus.query.checkUnusedParameters=false
datanucleus.store.allowReferencesWithNoImplementations=true
datanucleus.plugin.allowUserBundles=true

# Use Cumulus4j store manager
datanucleus.storeManagerType=cumulus4j

# Don't L2 cache objects, why?????
#datanucleus.cache.level2.type=none

# For RDBMS backing store
datanucleus.identifier.case=LowerCase
datanucleus.autoStartMechanism=SchemaTable
datanucleus.rdbms.dynamicSchemaUpdates=true
datanucleus.rdbms.stringDefaultLength=255


# *** cumulus4j ***
# All properties starting with "cumulus4j.datanucleus." or "cumulus4j.javax." are forwarded
# to the backend-PersistenceManagerFactory (without the "cumulus4j."-prefix, of course)

# Only necessary when using a connection factory
#cumulus4j.datanucleus.storeManagerType=rdbms

#Indexing CLOBs does not work in Derby => deactivate.
cumulus4j.index.clob.enabled=false
